## 1. RolyPlay-AI项目概述

### 1.1 项目背景

开发一个基于AI的角色扮演聊天网页，用户可以与各种虚构或历史角色进行沉浸式对话，支持文本和语音交互。

### 1.2 核心价值

- **个性化体验**：每个角色具备独特的性格、知识和对话风格
- **多模态交互**：支持文本和语音两种交互方式
- **知识丰富**：基于大模型的深度知识库和情境理解能力
- **易用性**：无需注册，即开即用的轻量级应用

## 2. 目标用户分析

### 2.1 用户类型

| 用户类型       | 特征描述                             | 使用场景                               |
| -------------- | ------------------------------------ | -------------------------------------- |
| **语言学习者** | 希望提升口语能力，需要安全的练习环境 | 与莎士比亚练习英语，与苏格拉底讨论哲学 |
| **娱乐爱好者** | 喜欢角色扮演，寻求娱乐体验           | 与哈利波特探讨魔法，与福尔摩斯解谜     |
| **教育工作者** | 需要生动的教学工具                   | 在课堂中使用AI角色激发学生兴趣         |
| **心理疏导者** | 需要情感支持和陪伴                   | 与智慧角色进行情感交流                 |

### 2.2 用户痛点

- **缺乏真实对话环境**：传统学习方式枯燥，缺乏互动性
- **社交压力**：真实人际互动存在心理障碍
- **资源限制**：难以找到合适的对话伙伴和专业指导
- **时间地点限制**：传统学习受时空限制

## 3. 功能规划

### 3.1 功能列表与优先级

#### P0 - 核心功能（已实现）

- ✅ 角色搜索和选择界面
- ✅ 文本对话交互系统
- ✅ 角色数据库管理
- ✅ 会话历史记录
- ✅ 基础角色个性设定

#### P1 - 重要功能（已实现）

- ✅ 语音识别和TTS语音聊天
- ✅ 角色技能系统（知识问答、情感共鸣、教学引导）
- ✅ 头像上传和显示
- ✅ 自定义角色上传
- ✅ 大模型优化上传角色

#### P2 - 扩展功能（规划中）

- 🔄 多角色切换和对比
- 🔄 情感分析反馈
- 🔄 角色知识库上传
- 🔄 自定义角色故事，沉浸式故事演绎（参考猫箱APP）

### 3.2 本次开发范围

**重点实现P0全部 + P1中的核心功能**

### 3.3 本次开发时间安排

| 任务                                                         | 时间安排              | 参与人                                   |
| ------------------------------------------------------------ | --------------------- | ---------------------------------------- |
| （1）进行项目需求分析和整体方案设计，确定技术选型。          | 2025/9/22 - 20259/23  | 陈瑶、谢庭策                             |
| （1）确定要开发的功能模块，拆分成具体的任务，并设置任务完成的优先级，划分成P0、P1和P2三个级别的任务。 （2）进行项目前端与后端的初始化工作，完成P0级别任务。 | 2025/9/24 - 2025/9/26 | 陈瑶（后端）、谢庭策（前端）             |
| （1）开发P1级别任务，并修复上次开发P0任务遗留的问题。（2）优化项目使用体验，并进行功能测试。 | 2025/9/26-2025/9/28   | 陈瑶（前后端联调）、谢庭策（前后端联调） |

## 4. 技术架构设计

### 4.1 系统架构图

![img](https://cdn.nlark.com/yuque/0/2025/png/2808764/1759031687309-df16da97-66ff-4409-bbe2-7b0b36fd0c55.png)

- 角色管理模块：用户可浏览预设AI角色，点击进入聊天界面。
- 聊天模块：用户通过语音或文字与AI角色对话，AI角色以语音+文字回复
- 聊天记录模块：在单次会话中保留对话历史
- 展示页面1：首页/角色列表页

![img](https://cdn.nlark.com/yuque/0/2025/png/2808764/1759029280992-e6712b35-673a-48c8-8a3f-ae86b692b714.png)

- 展示页面2：聊天页

![img](https://cdn.nlark.com/yuque/0/2025/png/2808764/1759029397974-ceb9105b-49be-420d-9c9e-e60372365417.png)

### 4.2 技术栈选择

| 层级       | 技术选型             | 选择理由                           |
| ---------- | -------------------- | ---------------------------------- |
| **前端**   | Vue 3 + Element Plus | 轻量级，生态丰富，开发效率高       |
| **后端**   | Spring Boot 3 + JPA  | 企业级稳定性，ORM支持，快速开发    |
| **数据库** | MySQL 8.0            | 关系型数据库，事务支持，性能稳定   |
| **AI模型** | 通义千问Qwen3-Max    | 中文优化，角色扮演能力强，成本可控 |
| **语音**   | Web Speech API       | 原生支持，无需额外依赖             |

### 4.3 项目运行

项目地址：https://github.com/xieCraber/roleplay-ai

克隆项目：

```shell
git clone https://github.com/xieCraber/roleplay-ai.git
```

后端项目运行：

- 创建对应的数据库表：执行data目录下的init_cosplay_db.sql文件
- 修改配置文件application.yml

前端项目运行：

```shell
npm run install
npm run dev
```

### 4.4 模型选择论证：Qwen3-Max

#### 4.4.1 模型对比分析

| 模型          | 优势                                     | 劣势                | 本项目适用性 |
| ------------- | ---------------------------------------- | ------------------- | ------------ |
| **Qwen3-Max** | 中文优化优秀，角色扮演能力强，成本效益高 | 英文场景稍弱        | ⭐⭐⭐⭐⭐        |
| GPT-4         | 综合能力最强，多语言支持好               | 成本较高，API限制多 | ⭐⭐⭐⭐         |
| Claude 3      | 安全性高，逻辑清晰                       | 角色扮演灵活性不足  | ⭐⭐⭐          |
| 文心一言      | 中文理解好，本土化优化                   | 创造性相对较弱      | ⭐⭐⭐          |

#### 4.4.2 选择Qwen3-Max的核心理由

1. **中文场景优化**：专门针对中文对话优化，角色扮演自然流畅
2. **成本效益**：相比国际模型具有更好的价格优势
3. **技术成熟度**：阿里云生态完善，API稳定性有保障
4. **合规性**：符合国内数据安全法规要求
5. **角色扮演能力**：在测试中表现出优秀的个性模拟能力